<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
			xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
			xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
			xmlns:t="http://myfaces.apache.org/tomahawk">
	<f:view locale="#{loginBean.locale}">
		<h:head>
			<title>#{texts.ApplicationName}</title>
			<h:outputStylesheet library="css" name="bootstrap-3.3.5.min.css" />
			<h:outputStylesheet library="css" name="bootstrap-theme-3.3.5.min.css" />
			<h:outputStylesheet library="css" name="bookmaker.css" />
			<h:outputScript library="js" name="jquery-2.1.4.min.js" />
			<h:outputScript library="js" name="bootstrap-3.3.5.min.js" />
		</h:head>
		<h:body>
			<header class="navbar navbar-default navbar-fixed-top">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
							<span class="sr-only">#{texts.NavigationToggle}</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<h:link outcome="/home.xhtml" class="navbar-brand">#{texts.ApplicationName}</h:link>
					</div>
					<div class="collapse navbar-collapse" id="navbar-collapse">
						<nav>
							<ul class="nav navbar-nav">
								<c:forEach items="#{navigationBean.pages}" var="page">
									<c:if test="#{loginBean.isVisible(page)}">
										<li class="#{navigationBean.currentPage eq page ? 'active' : ''}"><h:link outcome="#{page.view}">#{texts[page.title]}</h:link></li>
									</c:if>
								</c:forEach>
							</ul>
						</nav>
						<h:form id="navLocaleForm" class="navbar-right">
							<ul class="nav navbar-nav">
								<c:forEach items="#{loginBean.locales}" var="locale">
									<li class="#{loginBean.locale eq locale ? 'active' : ''}">
										<h:commandLink action="#{loginBean.setLanguage(locale.language)}" class="navbar-link" value="#{locale.getDisplayName(locale)}" title="#{locale.getDisplayName()}" />
									</li>
								</c:forEach>
							</ul>
						</h:form>
					</div>
				</div>
			</header>
			<div class="container">
				<ui:insert name="content" />
			</div>
			<footer class="navbar navbar-default navbar-fixed-bottom">
				<div class="container">
					<p class="navbar-text">
						&#169; 2015 #{texts.ApplicationCopyrightOwner}
					</p>
					<h:form id="navLoginForm" class="navbar-form navbar-right" rendered="#{empty loginBean.user}">
						<div class="form-group form-group-sm">
							<h:inputText id="loginField" class="form-control" value="#{loginBean.login}">
								<f:passThroughAttribute name="placeholder" value="#{texts.LoginLoginPlaceholder}" />
							</h:inputText>
						</div>
						<div class="form-group form-group-sm">
							<h:inputSecret id="passwordField" class="form-control" value="#{loginBean.password}">
								<f:passThroughAttribute name="placeholder" value="#{texts.LoginPasswordPlaceholder}" />
							</h:inputSecret>
						</div>
						<div class="form-group">
							<div class="btn-toolbar btn-group-sm">
								<h:commandButton id="registerButton" action="register?faces-redirect=true" class="btn btn-default" value="#{texts.LoginRegisterButton}" />
								<h:commandButton id="loginButton" action="#{loginBean.login}" class="btn btn-primary" value="#{texts.LoginLoginButton}" />
							</div>
						</div>
					</h:form>
					<h:form id="navLogoutForm" class="navbar-text navbar-right" rendered="#{not empty loginBean.user}">
						logged in as #{loginBean.login} |
						<h:commandLink id="logoutButton" action="#{loginBean.logout}" class="navbar-link" value="#{texts.LoginLogoutButton}" />
					</h:form>
				</div>
			</footer>
		</h:body>
	</f:view>
</html>
